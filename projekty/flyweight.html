<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        function Flyweight(brand, cpu, ram){
            this.brand = brand;
            this.cpu = cpu;
            this.ram = ram;

        }

        function Computer(brand, cpu, ram, cpuSpeed, moduleID){

            this.flyweight = FlyweightFactory.get(brand,cpu,ram);
            this.cpuSpeed = cpuSpeed;
            this.moduleID = moduleID;

        }

        const FlyweightFactory = (function(){

            let flyweights = {};

            return{
                get: function(brand,cpu,ram){
                    let propName = `${brand}_${cpu}_${ram}`;
                    if(!flyweights[propName]){
                        flyweights[propName] = new Flyweight(brand, cpu, ram);
                    }
                    return flyweights[propName];
                },
                count: function(){
                    let count =0;
                    for(let el in flyweights) count++;
                    return count;
                },
                getFlyweights: function(){
                    return flyweights;
                }
            }
        })();
        let arr = [];
        arr.push(new Computer("DELL", "INTEL", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "INTEL", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "INTEL", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "AAA", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "AAA", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "AAA", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "AAA", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "bb", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "cc", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "ddd", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "ddd", 3000, "16GHz", "1208421"));
        arr.push(new Computer("DELL", "INTEL", 3000, "16GHz", "1208421"));

        console.log(arr.length);
        console.log(FlyweightFactory.count())
;
    </script>

</head>
<body>
    
</body>
</html>